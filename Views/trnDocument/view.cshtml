@model CFS.Models.trnDocument
@using System.Globalization;
@{
    ViewBag.gblBlnView = CFS.Com.ClsCommon.getaccesspage(CFS.Com.ClsCommon.Controller(), CFS.Com.ClsCommon.AccessType.View);
    ViewBag.gblBlnEdit = CFS.Com.ClsCommon.getaccesspage(CFS.Com.ClsCommon.Controller(), CFS.Com.ClsCommon.AccessType.Edit);
    ViewBag.gblBlnAdd = CFS.Com.ClsCommon.getaccesspage(CFS.Com.ClsCommon.Controller(), CFS.Com.ClsCommon.AccessType.Add);
    ViewBag.gblBlnDelete = CFS.Com.ClsCommon.getaccesspage(CFS.Com.ClsCommon.Controller(), CFS.Com.ClsCommon.AccessType.Delete);

    ViewBag.Title = "View Document Entry ";
    Model.isViewpg = true;
    if (!ViewBag.gblBlnAdd)
    {
        Response.Redirect(CFS.Com.ClsCommon.GetRootPath() + "Error/unauthorize/");
    }
    string CFSDateFormat = Convert.ToString(System.Configuration.ConfigurationManager.AppSettings["JavaScriptProjectDateFormat"]);
}
<style>
    table th, table td {
        padding: 10px;
    }
</style>
<section class="content">
    <div class="row">
        <div class="col-xs-12">
            @using (Html.BeginForm("Action", "trnDocument", FormMethod.Post, new { @id = "frmpost", @name = "frmpost" }))
            {
                <div class="box">
                    <div class="box-body">
                        @if (Model != null && Model.doaction == "edit")
                        {
                            <div class="pull-left">
                                <div style="display: inline-flex">
                                    <h4>
                                        <b>
                                            <span class="badge bg-light-blue" style="font-size:15px;"> NOC No: @Model.trnDocumentPrefix @Model.trnDocumentNo (@((Model.Status == "P") ? "Pending" : (Model.Status == "D") ? "Completed" : (Model.Status == "H") ? "Hold" : (Model.Status == "R") ? "Release" : "Cancelled"))</span>
                                            <span class="badge bg-light-blue" style="font-size:15px;">Datetime :@Model.CreatedDate</span>
                                            <span class="badge bg-light-blue" style="font-size:15px;">User :@Model.CreatedUser</span>
                                        </b>
                                    </h4>
                                </div>
                            </div>
                        }
                        <div class="pull-right" id="divBack">
                            <div style="display: inline-flex">
                                <a id="btnBack" href="@Url.Action("Index","trnDocument", new {pg = Request.Params["pg"], search = Request.Params["search"] })" class="btn btn-primary btn-sm" style="color: #fff" data-toggle="tooltip" title="Back to listing"><i class="fa fa-arrow-left"></i></a>
                            </div>
                        </div>
                        <div class="col-md-12"></div>
                        @Html.HiddenFor(Model => Model.pagger.Search)
                        @Html.HiddenFor(Model => Model.doaction)
                        @Html.HiddenFor(Model => Model.page)
                        @Html.HiddenFor(Model => Model.filter)
                        @Html.HiddenFor(Model => Model.IsSearch)
                        @Html.HiddenFor(Model => Model.IsFinished)
                        @Html.HiddenFor(Model => Model.isViewpg)
                        @Html.HiddenFor(Model => Model.trnDocumentNo)
                        @Html.HiddenFor(Model => Model.trnDocumentPrefix)
                        <input type="hidden" id="DocumentTab" name="DocumentTab" value="@Model.DocumentTab" />
                        <input type="hidden" id="IsChangeStep" name="IsChangeStep" value="0" />
                        <input type="hidden" id="trnDocumentID" name="trnDocumentID" value="@Model.trnDocumentID" />
                        <input type="hidden" id="GuiID" name="GuiID" value="@Model.GuiID" />
                        <input type="hidden" id="trnDocumentLotDetailsID" name="trnDocumentLotDetailsID" value="@Model.trnDocumentLotDetailsID" />

                        @Html.HiddenFor(Model => Model.IsWorkOrderFinished, new { @id = "IsWorkOrderFinished", @name = "IsWorkOrderFinished" })
                        <br />
                        <div class="col-md-12" style="border-bottom:1px solid #cdcdcd;margin-bottom: 5px;"></div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.GateInType) : <span id="spnGateInType">@Model.GateInType</span>
                            @Html.HiddenFor(Model => Model.GateInType, new { @id = "GateInType", @name = "GateInType" })
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.ExpectedDateWH) : <span id="ExpectedDateWH">@Model.ExpectedDateWH</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.ExpectedReqPeriodInWH) : <span id="ExpectedReqPeriodInWH">@Model.ExpectedReqPeriodInWH</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.LOCATIONFROM, new { @for = "LOCATIONFROM" }) : <span id="LOCATIONFROM">@Model.LOCATIONFROM</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.Noof20, new { @for = "Noof20" }) : <span id="Noof20">@Model.Noof20</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.Noof40, new { @for = "Noof40" }) : <span id="Noof40">@Model.Noof40</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.Noof45, new { @for = "Noof45" }) : <span id="Noof45">@Model.Noof45</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.MstrUomName, new { @for = "MstrUomName" }) : <span id="MstrUomName">@Model.MstrUomName</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.BillCommodity, new { @for = "BillCommodity" }) : <span id="BillCommodity">@Model.BillCommodity</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.NatureOfCargo, new { @for = "NatureOfCargo" }) : <span id="NatureOfCargo">@Model.NatureOfCargo</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.AreaRequired, new { @for = "AreaRequired" }) : <span id="AreaRequired">@Model.AreaRequired</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.AdditionalArea, new { @for = "AdditionalArea" }) : <span id="AdditionalArea">@Model.AdditionalArea</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.TotalArea, new { @for = "TotalArea" }) : <span id="TotalArea">@Model.TotalArea</span>
                        </div>
						<div class="col-md-4">
                            @Html.LabelFor(Model => Model.TotalRelesedArea, new { @for= "TotalRelesedArea" }) : <span id="TotalRelesedArea">@Model.TotalRelesedArea</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.TotalBalanceArea, new { @for= "TotalBalanceArea" }) : <span id="TotalBalanceArea">@Model.TotalBalanceArea</span>
                        </div>                        
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.PortLoading, new { @for = "PortLoading" }) : <span id="PortLoading">@Model.PortLoading</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.VCNNO, new { @for = "VCNNO" }) : <span id="GateInType">@Model.VCNNO</span>
                            @Html.HiddenFor(Model => Model.VCNID, new { @id = "VCNID", @name = "VCNID" })
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.VESSELNAME) : <span id="txtVESSELNAME">@Model.VESSELNAME</span>
                            @Html.HiddenFor(Model => Model.hdnVESSELNAME, new { @id = "hdnVESSELNAME", @name = "hdnVESSELNAME" })
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.VOYNO) : <span id="txtVOYNO">@Model.VOYNO</span>
                            @Html.HiddenFor(Model => Model.hdnVOYNO, new { @id = "hdnVOYNO", @name = "hdnVOYNO" })
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.SumOfAssessedValue, new { @for = "SumOfAssessedValue" }) : <span id="SumOfAssessedValue">@Model.SumOfAssessedValue</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.SumOfDutyValue, new { @for = "SumOfDutyValue" }) : <span id="SumOfDutyValue">@Model.SumOfDutyValue</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.AgentName, new { @for = "AgentName" }) : <span id="GateInType">@Model.AgentName</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.LineName, new { @for = "LineName" }) : <span id="GateInType">@Model.LineName</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.Consolidator, new { @for = "Consolidator" }) : <span id="Consolidator">@Model.Consolidator</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.CHAPerson, new { @for = "CHAPerson" }) : <span id="CHAPerson">@Model.CHAPerson</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.CHACellNo, new { @for = "CHACellNo" }) : <span id="CHACellNo">@Model.CHACellNo</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.ContactName, new { @for = "ContactName" }) : <span id="ContactName">@Model.ContactName</span>
                        </div>
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.ContactNumber, new { @for = "ContactNumber" }) : <span id="ContactNumber">@Model.ContactNumber</span>
                        </div>                       
                        <div class="col-md-4">
                            @Html.LabelFor(Model => Model.Remarks, new { @for = "Remarks" })  : <span id="GateInType">@Model.Remarks</span>
                        </div>
                    </div>
                </div>
                if (Model != null && Model.doaction.ToLower() == "edit")
                {
                    <div class="box" id="LotDetails">
                        <div class="box-header with-border" data-widget="collapse">
                            <h4><b>BOE Details</b></h4>
                        </div>
                        <div class="box-body">
                            <div class="col-md-12" style="overflow:scroll">
                                <hr />
                                <div class="pull-right">
                                    <div style="display: inline-flex">
                                        <div class="input-group input-group-sm">
                                            <input id="txtlotdetail" name="txtlotdetail" type="text" class="form-control" onkeyup="DataTableSeachEngine('txtlotdetail','lotdetail','btnlotdetail')" placeholder="Search for Common" value="">
                                            <span class="input-group-btn">
                                                <button type="button" id="btnlotdetail" onclick="DataTableSeachEngine('txtlotdetail','lotdetail','btnlotdetail','yes')" class="btn btn-primary btn-flat">Search</button>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <table id="lotdetail" style="white-space: nowrap;" class="table-bordered table-hover">
                                    <thead>
                                        <tr>
                                            <th>Lot No</th>
                                            <th>IGM No</th>
                                            <th>Item No</th>
                                            <th>IGM Date.</th>
                                            <th>In-Bond BOE No</th>
                                            <th>In-Bond BOE Date</th>
                                            <th>BL No</th>
                                            <th>BL Date</th>
                                            <th>NOC Date Time</th>
                                            <th>NOC Valid From</th>
                                            <th>Last Storage Valid From Date</th>
                                            <th>Last Pattern</th>
                                            <th>Last Pattern Time</th>
                                            <th>NOC Valid To</th>
                                            <th>Importer</th>
                                            <th>Licence No</th>
                                            <th>Bulk/NB Status</th>
                                            <th>CHA/Broker</th>
                                            <th>Forwarder</th>
                                            @*<th>Consoler</th>*@
                                            <th>Pkgs</th>
                                            <th>Pieces</th>
                                            <th>Weight (kgs)</th>
                                            <th>Cargo Desc </th>
                                            <th>Cargo Type</th>
                                            <th>group commodity</th>
                                            <th>package type</th>
                                            <th>commodity</th>
                                            <th>sub commodity</th>
                                            <th>marks and nos</th>
                                            <th>CP Status</th>
                                            <th>CP No</th>
                                            <th>CP Date</th>
                                            <th>Gate In Date</th>
                                            <th>CP Validity(Days)</th>
                                            <th>CP Valid UpTo</th>
                                            <th>Bond No</th>
                                            <th>Bond Date</th>
                                            <th>Bond Validity(Months)</th>
                                            <th>Bond Valid UpTo</th>
                                            <th>Ass Value</th>
                                            <th>Duty Value</th>
                                            <th>Enhance AV OR DV?</th>
                                            <th>Enhance Ass.Value</th>
                                            <th>Enhance Duty Value</th>
                                            <th>OOC No</th>
                                            <th>OOC Date</th>
                                            <th>Excess BOE Package</th>
                                            <th>Excess BOE Weight</th>
                                            <th>Volume</th>
                                            <th>IMO</th>
                                            <th>UN</th>
                                            <th>Temp</th>
                                            <th>Remarks</th>
                                            <th>SpaceCerificateIssuedTo</th>
                                            <th>CustomDetails</th>
                                            <th>
                                                BOEItem
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        @if (Model.MySubDatatable != null && Model.MySubDatatable.Rows.Count > 0)
                                        {
                                            decimal TotalPKGS = 0, TotalPieces = 0, TotalWeight = 0, TotalAssesableValue = 0, TotalDutyValue = 0, TotalEnhAssesableValue = 0, TotalEnhDutyValue = 0;
                                            for (int i = 0; i < Model.MySubDatatable.Rows.Count; i++)
                                            {
                                                if (!string.IsNullOrEmpty(Convert.ToString(Model.MySubDatatable.Rows[i]["NOOFPKGS"])))
                                                {
                                                    TotalPKGS = TotalPKGS + Convert.ToDecimal(Model.MySubDatatable.Rows[i]["NOOFPKGS"]);
                                                }
                                                if (!string.IsNullOrEmpty(Convert.ToString(Model.MySubDatatable.Rows[i]["NOOFPIECES"])))
                                                {
                                                    TotalPieces = TotalPieces + Convert.ToDecimal(Model.MySubDatatable.Rows[i]["NOOFPIECES"]);
                                                }
                                                if (!string.IsNullOrEmpty(Convert.ToString(Model.MySubDatatable.Rows[i]["WEIGHT"])))
                                                {
                                                    TotalWeight = TotalWeight + Convert.ToDecimal(Model.MySubDatatable.Rows[i]["WEIGHT"]);
                                                }
                                                if (!string.IsNullOrEmpty(Convert.ToString(Model.MySubDatatable.Rows[i]["AssessableValue"])))
                                                {
                                                    TotalAssesableValue = TotalAssesableValue + Convert.ToDecimal(Model.MySubDatatable.Rows[i]["AssessableValue"]);
                                                }
                                                if (!string.IsNullOrEmpty(Convert.ToString(Model.MySubDatatable.Rows[i]["Dutyvalue"])))
                                                {
                                                    TotalDutyValue = TotalDutyValue + Convert.ToDecimal(Model.MySubDatatable.Rows[i]["Dutyvalue"]);
                                                }
                                                if (!string.IsNullOrEmpty(Convert.ToString(Model.MySubDatatable.Rows[i]["EnhanceAssembleValue"])))
                                                {
                                                    TotalEnhAssesableValue = TotalEnhAssesableValue + Convert.ToDecimal(Model.MySubDatatable.Rows[i]["EnhanceAssembleValue"]);
                                                }
                                                if (!string.IsNullOrEmpty(Convert.ToString(Model.MySubDatatable.Rows[i]["EnhanceDutyvalue"])))
                                                {
                                                    TotalEnhDutyValue = TotalEnhDutyValue + Convert.ToDecimal(Model.MySubDatatable.Rows[i]["EnhanceDutyvalue"]);
                                                }
                                                string BOEDate = "", BLDate = "", IGMDate = "", OOCDate = "", CPDate = "", CPValidUpto = "", BondDate = "", BondValidUpto = "", NOCDateandTime = "", NOCValidFrom = "", NOCValidTo = "", GateInDate = "";
                                                if (Model.MySubDatatable.Rows[i]["BOEDate"] != null && Convert.ToString(Model.MySubDatatable.Rows[i]["BOEDate"]) != "")
                                                {
                                                    BOEDate = Convert.ToDateTime(Model.MySubDatatable.Rows[i]["BOEDate"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat, CultureInfo.InvariantCulture);
                                                }
                                                if (Model.MySubDatatable.Rows[i]["BLDate"] != null && Convert.ToString(Model.MySubDatatable.Rows[i]["BLDate"]) != "")
                                                {
                                                    BLDate = Convert.ToDateTime(Model.MySubDatatable.Rows[i]["BLDate"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat, CultureInfo.InvariantCulture);
                                                }
                                                if (Model.MySubDatatable.Rows[i]["IGMDate"] != null && Convert.ToString(Model.MySubDatatable.Rows[i]["IGMDate"]) != "")
                                                {
                                                    IGMDate = Convert.ToDateTime(Model.MySubDatatable.Rows[i]["IGMDate"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat, CultureInfo.InvariantCulture);
                                                }
                                                if (Model.MySubDatatable.Rows[i]["OOCDate"] != null && Convert.ToString(Model.MySubDatatable.Rows[i]["OOCDate"]) != "")
                                                {
                                                    OOCDate = Convert.ToDateTime(Model.MySubDatatable.Rows[i]["OOCDate"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat, CultureInfo.InvariantCulture);
                                                }
                                                if (Model.MySubDatatable.Rows[i]["CPDate"] != null && Convert.ToString(Model.MySubDatatable.Rows[i]["CPDate"]) != "")
                                                {
                                                    CPDate = Convert.ToDateTime(Model.MySubDatatable.Rows[i]["CPDate"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat, CultureInfo.InvariantCulture);
                                                }
                                                if (Model.MySubDatatable.Rows[i]["CPValidUpto"] != null && Convert.ToString(Model.MySubDatatable.Rows[i]["CPValidUpto"]) != "")
                                                {
                                                    CPValidUpto = Convert.ToDateTime(Model.MySubDatatable.Rows[i]["CPValidUpto"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat, CultureInfo.InvariantCulture);
                                                }
                                                if (Model.MySubDatatable.Rows[i]["BondDate"] != null && Convert.ToString(Model.MySubDatatable.Rows[i]["BondDate"]) != "")
                                                {
                                                    BondDate = Convert.ToDateTime(Model.MySubDatatable.Rows[i]["BondDate"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat, CultureInfo.InvariantCulture);
                                                }
                                                if (Model.MySubDatatable.Rows[i]["BondValidUpto"] != null && Convert.ToString(Model.MySubDatatable.Rows[i]["BondValidUpto"]) != "")
                                                {
                                                    BondValidUpto = Convert.ToDateTime(Model.MySubDatatable.Rows[i]["BondValidUpto"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat, CultureInfo.InvariantCulture);
                                                }
                                                if (Model.MySubDatatable.Rows[i]["NOCDateandTime"] != null && Convert.ToString(Model.MySubDatatable.Rows[i]["NOCDateandTime"]) != "")
                                                {
                                                    NOCDateandTime = Convert.ToDateTime(Model.MySubDatatable.Rows[i]["NOCDateandTime"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat, CultureInfo.InvariantCulture);
                                                }
                                                if (Model.MySubDatatable.Rows[i]["NOCValidFrom"] != null && Convert.ToString(Model.MySubDatatable.Rows[i]["NOCValidFrom"]) != "")
                                                {
                                                    NOCValidFrom = Convert.ToDateTime(Model.MySubDatatable.Rows[i]["NOCValidFrom"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat, CultureInfo.InvariantCulture);
                                                }
                                                if (Model.MySubDatatable.Rows[i]["NOCValidTo"] != null && Convert.ToString(Model.MySubDatatable.Rows[i]["NOCValidTo"]) != "")
                                                {
                                                    NOCValidTo = Convert.ToDateTime(Model.MySubDatatable.Rows[i]["NOCValidTo"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat, CultureInfo.InvariantCulture);
                                                }
                                                if (Model.MySubDatatable.Rows[i]["GateInDate"] != null && Convert.ToString(Model.MySubDatatable.Rows[i]["GateInDate"]) != "")
                                                {
                                                    GateInDate = Convert.ToDateTime(Model.MySubDatatable.Rows[i]["GateInDate"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat, CultureInfo.InvariantCulture);
                                                }
                                                Model.SumOfAssessedValue = TotalAssesableValue + TotalEnhAssesableValue;
                                                Model.TotalDutyvalue = TotalDutyValue + TotalEnhDutyValue;
                                        <tr>
                                            <td style="display:none"><span id="trnDocumentLotDetailsID_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]</span></td>
                                            <td style="display:none"><span id="IMPORTERID_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["IMPORTERID"]</span></td>
                                            <td style="display:none"><span id="IMPORTERADDRESSID_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["IMPORTERADDRESSID"]</span></td>
                                            <td style="display:none"><span id="SubCHAID_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["SubCHAID"]</span></td>
                                            <td style="display:none"><span id="ForwarderID_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["ForwarderID"]</span></td>
                                            <td style="display:none"><span id="BatchID_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["BatchID"]</span></td>
                                            <td style="display:none"><span id="GroupCommodityID_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["GroupCommodityID"]</span></td>
                                            <td style="display:none"><span id="PACKAGETYPEID_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["PACKAGETYPEID"]</span></td>
                                            <td style="display:none"><span id="COMMODITYID_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["COMMODITYID"]</span></td>
                                            <td style="display:none"><span id="SUBCOMMODITYID_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["SUBCOMMODITYID"]</span></td>
                                            <td style="display:none"><span id="IMPORTERADDRESSNAME_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["IMPORTERADDRESSNAME"]</span></td>
                                            <td style="display:none"><span id="CargoTypeID_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["CargoTypeID"]</span></td>
                                            <td style="display:none"><span id="ConsolerID_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["ConsolerID"]</span></td>
                                            <td><span id="LotNo_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["LotPrefix"]@Model.MySubDatatable.Rows[i]["LotNo"]</span></td>
                                            <td><span id="IGMNo_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["IGMNo"]</span></td>
                                            <td><span id="ItemNo_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["ItemNo"]</span></td>
                                            <td><span id="IGMDate_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@IGMDate</span></td>
                                            <td><span id="BOENo_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["BOENo"]</span></td>
                                            <td><span id="BOEDate_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@BOEDate</span></td>
                                            <td><span id="BLNo_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["BLNo"]</span></td>
                                            <td><span id="BLDate_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@BLDate</span></td>
                                            <td><span id="NOCDateTime_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["NOCValidFromDate"]</span></td>
                                            <td><span id="NOCValidFrom_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]" style="color:red;">@Model.MySubDatatable.Rows[i]["NOCValidFromDate"]</span></td>
                                            <td><span id="LastStorageValidDate_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]" style="color:red;">@Model.MySubDatatable.Rows[i]["LastStorValidFrom"]</span></td>
                                            <td><span id="LastPattern_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]" style="color:red;">@Model.MySubDatatable.Rows[i]["LastPattern"]</span></td>
                                            <td><span id="LastPatternTime_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]" style="color:red;">@Model.MySubDatatable.Rows[i]["LastPatternTime"]</span></td>
                                            <td><span id="NOCValidTo_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]" style="color:red;">@Model.MySubDatatable.Rows[i]["NOCValidUpto"]</span></td>

                                            <td><span id="IMPORTERNAME_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["IMPORTERNAME"]</span></td>
                                            <td><span id="LicenceNo_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["LicenceNo"]</span></td>
                                            <td><span id="BULKSTATUS_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["BULKSTATUS"]</span></td>
                                            <td><span id="SubCHA_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["SubCHA"]</span></td>
                                            <td><span id="Forwarder_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["Forwarder"]</span></td>
                                            @*<td><span id="ConsolerNAME_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["ConsolerNAME"]</span></td>*@
                                            <td><span id="NOOFPKGS_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["NOOFPKGS"]</span></td>
                                            <td><span id="NOOFPIECES_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["NOOFPIECES"]</span></td>
                                            <td><span id="WEIGHT_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["WEIGHT"]</span></td>
                                            <td><span id="CARGODESC_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["CARGODESC"]</span></td>
                                            <td><span id="CargoType_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["CargoType"]</span></td>
                                            <td><span id="GroupCommodity_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["GroupCommodity"]</span></td>
                                            <td><span id="PACKAGETYPE_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["PACKAGETYPE"]</span></td>
                                            <td><span id="COMMODITYNAME_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["COMMODITYNAME"]</span></td>
                                            <td><span id="SUBCOMMODITY_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["SUBCOMMODITY"]</span></td>
                                            <td><span id="MARKSANDNOS_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["MARKSANDNOS"]</span></td>
                                            <td><span id="CPStatus_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@(Convert.ToBoolean(Model.MySubDatatable.Rows[i]["CPStatus"]) == true ? "Yes" : "No")</span></td>
                                            <td><span id="CPNo_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["CPNo"]</span></td>
                                            <td><span id="CPDate_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@CPDate</span></td>
                                            <td><span id="GateInDateForLot_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@GateInDate</span></td>
                                            <td><span id="CPValidity_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["CPValidity"]</span></td>
                                            <td><span id="CPValidUpto_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@CPValidUpto</span></td>
                                            <td><span id="BondNo_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["BondNo"]</span></td>
                                            <td><span id="BondDate_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@BondDate</span></td>
                                            <td><span id="BondValidity_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["BondValidity"]</span></td>
                                            <td><span id="BondValidUpto_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@BondValidUpto</span></td>
                                            <td><span id="AssessableValue_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["AssessableValue"]</span></td>
                                            <td><span id="Dutyvalue_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["Dutyvalue"]</span></td>
                                            <td><span id="EnhanceAVOrDV_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@(Convert.ToBoolean(Model.MySubDatatable.Rows[i]["EnhanceAVOrDV"]) == true ? "Yes" : "No")</span></td>
                                            <td><span id="EnhanceAssembleValue_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["EnhanceAssembleValue"]</span></td>
                                            <td><span id="EnhanceDutyvalue_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["EnhanceDutyvalue"]</span></td>
                                            <td><span id="OOCNo_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["OOCNo"]</span></td>
                                            <td><span id="OOCDate_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@OOCDate</span></td>
                                            <td><span id="EXCESSBOENOOFPKGS_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["EXCESSBOENOOFPKGS"]</span></td>
                                            <td><span id="EXCESSBOEWEIGHT_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["EXCESSBOEWEIGHT"]</span></td>
                                            <td><span id="Volumevalue_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["Volume"]</span></td>
                                            <td><span id="IMO_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["IMO"]</span></td>
                                            <td><span id="UN_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["UN"]</span></td>
                                            <td><span id="Temp_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["Temp"]</span></td>
                                            <td><span id="RemarksForLot_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["Remarks"]</span></td>
                                            @if (Model.MySubDatatable.Rows[i]["SpaceCerificateIssuedTo"].ToString() != "Select")
                                            {
                                                <td><span id="SpaceCerificateIssuedTo_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["SpaceCerificateIssuedTo"]</span></td>
                                            }
                                            else
                                            {
                                                <td><span style="display:none" id="SpaceCerificateIssuedTo_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["SpaceCerificateIssuedTo"]</span></td>
                                            }
                                            <td><span id="CustomDetails_@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]">@Model.MySubDatatable.Rows[i]["CustomDetails"]</span></td>
                                            <td><a style=" cursor: pointer;" href="" data-toggle="modal" data-target="#viewLotDetails" onclick="GetLotBOIITEM('@Model.MySubDatatable.Rows[i]["trnDocumentLotDetailsID"]','@Model.trnDocumentID');" target="_blank" class="btn btn-primary"><i class="fa fa-plus"></i></a></td>
                                        </tr>
                                            }
                                            {
                                                Model.TotalNoOfPKGGrand = TotalPKGS;
                                                Model.TotalNoOfPiecesGrand = TotalPieces;
                                                Model.TotalWeightGrand = TotalWeight;
                                            }
                                            <tr><td colspan='19' style='font-weight:bold;text-align:right'>Total : </td><td>@TotalPKGS</td><td>@TotalPieces</td><td>@TotalWeight</td><td colspan='17'></td><td>@TotalAssesableValue</td><td>@TotalDutyValue</td><td></td><td>@TotalEnhAssesableValue</td><td>@TotalEnhDutyValue</td><td colspan='11'></td></tr>
                                        }
                                        @Html.HiddenFor(Model => Model.TotalNoOfPKGGrand, new { @id = "TotalNoOfPKGGrand", @name = "TotalNoOfPKGGrand" })
                                        @Html.HiddenFor(Model => Model.TotalNoOfPiecesGrand, new { @id = "TotalNoOfPiecesGrand", @name = "TotalNoOfPiecesGrand" })
                                        @Html.HiddenFor(Model => Model.TotalWeightGrand, new { @id = "TotalWeightGrand", @name = "TotalWeightGrand" })
                                        @Html.HiddenFor(Model => Model.IsTruckWoDone, new { @id = "IsTruckWoDone" })
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                }
                <div class="row" id="dvDocumentContainerDetails">
                    <div class="col-xs-12">
                        <div class="box">
                            <div class="box-header with-border" style="cursor:pointer" data-widget="collapse">
                                <div class="pull-left">
                                    <div style="display: inline-flex">
                                        <h4><b>Container Details ?</b></h4>
                                    </div>
                                </div>
                            </div>
                            <div class="box-body" id="step-3-body">
                                <div class="col-md-12" style="overflow:scroll">
                                    <hr>
                                    <div class="pull-right">
                                        <div style="display: inline-flex">
                                            <div class="input-group input-group-sm">
                                                <input id="txtContainerdetail" name="txtContainerdetail" type="text" class="form-control" onkeyup="DataTableSeachEngine('txtContainerdetail','tblContainerdetail','btnContainerdetail')" placeholder="Search for Common" value="">
                                                <span class="input-group-btn">
                                                    <button type="button" id="btnContainerdetail" onclick="DataTableSeachEngine('txtContainerdetail','tblContainerdetail','btnContainerdetail','yes')" class="btn btn-primary btn-flat">Search</button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                    <table id="tblContainerdetail" style="white-space: nowrap;" class="table-bordered table-hover">
                                        <thead>
                                            <tr>
                                                <th>Container Number</th>
                                                <th>ISO Code</th>
                                                <th>Size</th>
                                                <th>Type</th>
                                                <th>Cargo Type</th>
                                                <th>Package Type</th>
                                                <th>BatchNo</th>
                                                <th>In-BOE No</th>
                                                <th>Cont.Level</th>
                                                <th>Group Commodity</th>
                                                <th>Bill Commodity</th>
                                                <th>Sub Commodity</th>
                                                @if (Model != null && Model.doaction.ToLower() == "edit")
                                                {
                                                    <th>Weighment</th>
                                                }
                                                <th>Delivery Mode</th>
                                                <th>Bulk?</th>
                                                <th>Pkgs</th>
                                                <th>Pieces</th>
                                                <th>Wght(Kgs)</th>
                                                <th>InType</th>
                                                <th>IMO</th>
                                                <th>UN</th>
                                                <th>TEMP.</th>
                                                <th>DO NO.</th>
                                                <th>DO Valid Date.</th>
                                                <th>PhysicalSeal No</th>
                                                <th>DeclaredSeal No</th>
                                                <th>Gate In Date</th>
                                                <th>Gate Out Date</th>
                                                <th>Plug In Date</th>
                                                <th>Plug Off Date</th>
                                                <th>Action</th>
                                            </tr>
                                        </thead>
                                        <tbody id="tblContainer"></tbody>
                                        @{
                                            Model.TotalNoOfPackageForContainer = Model.TotalNoOfPackageForContainer == null ? 0 : Convert.ToDecimal(Model.TotalNoOfPackageForContainer);
                                            Model.TotalNoOfPiecesForContainer = Model.TotalNoOfPiecesForContainer == null ? 0 : Convert.ToDecimal(Model.TotalNoOfPiecesForContainer);
                                            Model.TotalWeightForContainer = Model.TotalWeightForContainer == null ? 0 : Convert.ToDecimal(Model.TotalWeightForContainer);
                                            Model.ActualNoOfPackageForContainer = Model.ActualNoOfPackageForContainer == null ? 0 : Model.ActualNoOfPackageForContainer;
                                            Model.ActualNoOfPiecesForContainer = Model.ActualNoOfPiecesForContainer == null ? 0 : Model.ActualNoOfPiecesForContainer;
                                            Model.ActualWeightForContainer = Model.ActualWeightForContainer == null ? 0 : Model.ActualWeightForContainer;
                                        }
                                        @Html.HiddenFor(Model => Model.TotalNoOfPackageForContainer, new { @id = "TotalNoOfPackageForContainer", @name = "TotalNoOfPackageForContainer" })
                                        @Html.HiddenFor(Model => Model.TotalNoOfPiecesForContainer, new { @id = "TotalNoOfPiecesForContainer", @name = "TotalNoOfPiecesForContainer" })
                                        @Html.HiddenFor(Model => Model.TotalWeightForContainer, new { @id = "TotalWeightForContainer", @name = "TotalWeightForContainer" })
                                        @Html.HiddenFor(Model => Model.ActualNoOfPackageForContainer, new { @id = "ActualNoOfPackageForContainer", @name = "ActualNoOfPackageForContainer" })
                                        @Html.HiddenFor(Model => Model.ActualNoOfPiecesForContainer, new { @id = "ActualNoOfPiecesForContainer", @name = "ActualNoOfPiecesForContainer" })
                                        @Html.HiddenFor(Model => Model.ActualWeightForContainer, new { @id = "ActualWeightForContainer", @name = "ActualWeightForContainer" })
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal fade in" id="AddBOIItems" style="display: none; padding-right: 17px;">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">×</span>
                                </button>
                                <h4 class="modal-title">Add Items</h4>
                            </div>
                            <div class="modal-body">
                                <div id="dvUploadExcel" class="row">
                                    <div class="col-md-4">
                                        <div class="form-group">
                                            @Html.LabelFor(model => model.BOEItems)
                                            @Html.TextBoxFor(Model => Model.fileBOEItems, Model.doaction == "edit" ? new { type = "file", @id = "fileBOEItems", @name = "fileBOEItems", @class = "form-control", @accept = ".xlsx" }
                                            : new { type = "file", @id = "fileBOEItems", @name = "fileBOEItems", @class = "form-control", @accept = ".xlsx" })
                                            @Html.HiddenFor(Model => Model.HdnBOEItems, new { @id = "BOEItems", @name = "BOEItems" })
                                        </div>
                                    </div>

                                    <div class="col-md-1">
                                        <br />
                                        <button type="button" class="btn btn-info pull-right" onclick="UploadBoiItem();" id="saveUploadbtn">Upload</button>
                                    </div>
                                    <div class="col-md-1  pull-right">
                                        <br />
                                        <a href="~/Template/BOE_TEMPLATE.xlsx" class="fa fa-download fa-2x" title="Download Excel Template" download></a>
                                    </div>
                                </div>
                                <div class="col-md-12" style="border-bottom:1px solid #cdcdcd;margin-bottom: 5px;"></div>
                                <div class="row">
                                    <div id="AddBOEItemss">
                                        <input type="hidden" id="trnDocumentBoiItemsID" name="trnDocumentBoiItemsID" value="@Model.trnDocumentBoiItemsID" />
                                        <div class="col-md-1">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelSRNo, new { @id = "lblModelSRNo", @for = "ModelSRNo" })  @Html.ValidationMessageFor(Model => Model.ModelSRNo, String.Empty, new { @id = "spn_ModelSRNo", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelSRNo, new { @id = "ModelSRNo", @name = "ModelSRNo", @class = "form-control", @readonly = true })
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelInvoiceNo, new { @id = "lblModelInvoiceNo", @for = "ModelInvoiceNo" })  @Html.ValidationMessageFor(Model => Model.ModelInvoiceNo, String.Empty, new { @id = "spn_ModelInvoiceNo", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelInvoiceNo, new { @id = "ModelInvoiceNo", @name = "ModelInvoiceNo", @class = "form-control" })
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            @Html.LabelFor(Model => Model.ModelInvoiceDate, new { @id = "lblModelInvoiceDate", @for = "ModelInvoiceDate" })  @Html.ValidationMessageFor(Model => Model.ModelInvoiceDate, String.Empty, new { @id = "spn_ModelInvoiceDate", @class = "help-inline text-red" })
                                            @Html.TextBoxFor(Model => Model.ModelInvoiceDate, new { @id = "ModelInvoiceDate", @name = "ModelInvoiceDate", @class = "form-control DatePickerCustom" })
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelCargoName, new { @for = "ModelCargoName" }) <span class="text-red">*</span> @Html.ValidationMessageFor(Model => Model.ModelCargoName, String.Empty, new { @id = "spn_ModelCargoName", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelCargoName, new { @id = "ModelCargoName", @name = "ModelCargoName", @class = "form-control", @placeholder = "Enter Cargo Name " })
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelNOOFPKGS, new { @for = "ModelNOOFPKGS" }) <span class="text-red">*</span> @Html.ValidationMessageFor(Model => Model.ModelNOOFPKGS, String.Empty, new { @id = "spn_ModelNOOFPKGS", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelNOOFPKGS, new { @id = "ModelNOOFPKGS", @name = "ModelNOOFPKGS", @class = "form-control", @placeholder = "Enter NO OF PKGS", @maxlength = "10", @onkeypress = "return isNumberWithTwoDecimal(event,'ModelNOOFPKGS')" })
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelNOOFPIECES, new { @for = "ModelNOOFPIECES" }) <span class="text-red">*</span> @Html.ValidationMessageFor(Model => Model.ModelNOOFPIECES, String.Empty, new { @id = "spn_ModelNOOFPIECES", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelNOOFPIECES, new { @id = "ModelNOOFPIECES", @name = "ModelNOOFPIECES", @class = "form-control", @placeholder = "Enter NO.OF PIECES ", @maxlength = "10", @onkeypress = "return isNumberWithTwoDecimal(event,'ModelNOOFPIECES')" })
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelWEIGHT, new { @for = "ModelWEIGHT" }) <span class="text-red">*</span> @Html.ValidationMessageFor(Model => Model.ModelWEIGHT, String.Empty, new { @id = "spn_ModelWEIGHT", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelWEIGHT, new { @id = "ModelWEIGHT", @name = "ModelWEIGHT", @class = "form-control", @placeholder = "Enter WEIGHT (KGS)", @maxlength = "10", @onkeypress = "return isNumberWithTwoDecimal(event,'ModelWEIGHT')" })
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <br />
                                            <button type="button" class="btn btn-info pull-right" onclick="AddBoiItem()" id="savebtn">Add</button>
                                        </div>
                                        <div class="col-md-1">
                                            <br />
                                            <button type="button" onclick="ClearBOIDetails()" class="btn btn-default pull-right">Clear</button>
                                        </div>
                                    </div>
                                    <div class="col-md-12" style="overflow:scroll;height:250px;">
                                        <div class="pull-right">
                                            <div style="display: inline-flex">
                                                <div class="input-group input-group-sm">
                                                    <input id="txtDocumentBOIDetails" name="txtDocumentBOIDetails" type="text" class="form-control" onkeyup="DataTableSeachEngine('txtDocumentBOIDetails','tblDocumentBOIDetails','btnDocumentBOIDetails')" placeholder="Search for Common" value="">
                                                    <span class="input-group-btn">
                                                        <button type="button" id="btnDocumentBOIDetails" onclick="DataTableSeachEngine('txtDocumentBOIDetails','tblDocumentBOIDetails','btnDocumentBOIDetails','yes')" class="btn btn-primary btn-flat">Search</button>
                                                    </span>
                                                </div>
                                            </div>
                                        </div>
                                        <table id="tblDocumentBOIDetails" style="width:100%" class="table-bordered table-hover">
                                            <thead>
                                                <tr>
                                                    <th>SR No.</th>
                                                    <th>Invoice No.</th>
                                                    <th>Invoice Date.</th>
                                                    <th>Cargo Name</th>
                                                    <th>No of Package</th>
                                                    <th>No of Pieces</th>
                                                    <th>Gross Weight</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody id="DocumentBOIItems"></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default pull-right" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
                <div class="modal fade in" id="AddContainerDetails" style="display: none; padding-right: 17px;">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">×</span>
                                </button>
                                <h4 class="modal-title">Weighment Details</h4>
                            </div>
                            <div class="modal-body">
                                <div class="row">
                                    @Html.HiddenFor(Model => Model.ModelDocument.trnContainerWeighmentDetailsID, new { @id = "trnContainerWeighmentDetailsID", @name = "trnContainerWeighmentDetailsID" })
                                    @Html.HiddenFor(Model => Model.ModelDocument.trnDocumentContainerID, new { @id = "ModeltrnDocumentContainerID", @name = "ModeltrnDocumentContainerID" })
                                    <div class="hideonce">
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                <br />
                                                @Html.CheckBoxFor(Model => Model.ModelDocument.WEIGHMENTREQUIRED, new { @id = "WEIGHMENTREQUIRED", @class = "form-control" })
                                                @Html.Label("Weighment Required", new { @for = "WEIGHMENTREQUIRED" }) @Html.ValidationMessageFor(Model => Model.ModelDocument.WEIGHMENTREQUIRED, String.Empty, new { @class = "help-inline text-red" })
                                            </div>
                                        </div>
                                        <div class="col-md-3" id="dvInActiveReason">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelDocument.NONWEIGHMENTREASON, new { @for = "NONWEIGHMENTREASON" }) <span class="text-red">*</span> @Html.ValidationMessageFor(Model => Model.ModelDocument.NONWEIGHMENTREASON, String.Empty, new { @id = "spn_NONWEIGHMENTREASON", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelDocument.NONWEIGHMENTREASON, new { @id = "NONWEIGHMENTREASON", @class = "form-control", @placeholder = "Enter Non-Weighment Reason" })
                                            </div>
                                        </div>
                                        <div class="col-md-1 dvOther">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelDocument.WEIGHMENTPAYMENTMODE, new { @for = "WEIGHMENTPAYMENTMODE" }) @Html.ValidationMessageFor(Model => Model.ModelDocument.WEIGHMENTPAYMENTMODE, String.Empty, new { @id = "spn_WEIGHMENTPAYMENTMODE", @class = "help-inline text-red" })
                                                @Html.DropDownListFor(Model => Model.ModelDocument.WEIGHMENTPAYMENTMODE, Model.ModelDocument.WEIGHMENTPAYMENTTYPE, new { @id = "WEIGHMENTPAYMENTMODE", @name = "WEIGHMENTPAYMENTMODE", @class = "form-control", @onchange = "DisplaySSR('WEIGHMENTPAYMENTMODE', 'dvisshow')" })
                                            </div>
                                        </div>
                                        <div class="col-md-3 dvOther dvisshow">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelDocument.MANUALSSRNO, new { @for = "MANUALSSRNO" }) <span class="text-red">*</span> @Html.ValidationMessageFor(Model => Model.ModelDocument.MANUALSSRNO, String.Empty, new { @id = "spn_MANUALSSRNO", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelDocument.MANUALSSRNO, new { @id = "MANUALSSRNO", @class = "form-control", @placeholder = "Enter Manual SSR no" })
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelDocument.Remarks, new { @for = "txtRemarks" })  @Html.ValidationMessageFor(Model => Model.ModelDocument.Remarks, String.Empty, new { @id = "spn_Remarks", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelDocument.Remarks, new { @id = "txtRemarks", @name = "txtRemarks", @class = "form-control", @placeholder = "Enter Remarks" })
                                            </div>
                                        </div>
                                        <div class="pull-right col-md-1">
                                            <br />
                                            <button type="button" onclick="ClearContainerWeighmentDetails()" class="btn btn-default pull-right">Clear</button>
                                        </div>
                                        <div class="pull-right col-md-1">
                                            <br />
                                            <button type="button" class="btn btn-info pull-right" onclick="AddContainerWeighmentDetails()" id="savebtn">Add</button>
                                        </div>
                                    </div>
                                    <div class="col-md-12" style="overflow:scroll">

                                        <table id="NOC-detail" style="white-space: nowrap;" class="table-bordered table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Weighment Required</th>
                                                    <th>Non Weighment Reason</th>
                                                    <th>Weighment Payment Mode</th>
                                                    <th>Manual SSR No</th>
                                                    <th>Remarks</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody id="ContainerWeighmentDetails"></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default pull-right" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
                <div class="modal fade in" id="AddLotForContainer" style="display: none; padding-right: 17px;">
                    <div class="modal-dialog modal-lg">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">×</span>
                                </button>
                                <h4 class="modal-title">Add Lot</h4>
                            </div>
                            <div class="modal-body">
                                <div class="col-md-12" style="margin-bottom: 5px;"></div>
                                <div class="row">
                                    <div id="AddLotForContainerDetails">
                                        <input type="hidden" id="trnDocumentContainerForLotID" name="trnDocumentContainerForLotID" value="@Model.trnDocumentContainerForLotID" />
                                        <div class="col-md-4">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelLotNo, new { @for = "ModelLotNo" }) <span class="text-red">*</span> @Html.ValidationMessageFor(Model => Model.ModelLotNo, String.Empty, new { @id = "spn_ModelLotNo", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelLotNo, new { @id = "ModelLotNo", @name = "ModelLotNo", @class = "form-control", @placeholder = "LotNo" })
                                                @Html.HiddenFor(Model => Model.ModelLotID, new { @id = "ModelLotID", @name = "ModelLotID" })
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelContPakg, new { @for = "ModelContPakg" }) <span class="text-red">*</span> @Html.ValidationMessageFor(Model => Model.ModelContPakg, String.Empty, new { @id = "spn_ModelContPakg", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelContPakg, new { @id = "ModelContPakg", @name = "ModelContPakg", @class = "form-control", @placeholder = "Enter NO OF PKGS", @maxlength = "10", @onkeypress = "return isNumberWithTwoDecimal(event,'ModelContPakg')" })
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelContPieces, new { @for = "ModelContPieces" }) <span class="text-red">*</span> @Html.ValidationMessageFor(Model => Model.ModelContPieces, String.Empty, new { @id = "spn_ModelContPieces", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelContPieces, new { @id = "ModelContPieces", @name = "ModelContPieces", @class = "form-control", @placeholder = "Enter NO.OF PIECES ", @maxlength = "10", @onkeypress = "return isNumberWithTwoDecimal(event,'ModelContPieces')" })
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="form-group">
                                                @Html.LabelFor(Model => Model.ModelContWeight, new { @for = "ModelContWeight" }) <span class="text-red">*</span> @Html.ValidationMessageFor(Model => Model.ModelContWeight, String.Empty, new { @id = "spn_ModelContWeight", @class = "help-inline text-red" })
                                                @Html.TextBoxFor(Model => Model.ModelContWeight, new { @id = "ModelContWeight", @name = "ModelContWeight", @class = "form-control", @placeholder = "Enter WEIGHT (KGS)", @maxlength = "10", @onkeypress = "return isNumberWithTwoDecimal(event,'ModelContWeight')" })
                                            </div>
                                        </div>
                                        <div class="col-md-1">
                                            <br />
                                            <button type="button" class="btn btn-info pull-right" onclick="AddContainerLot()" id="Contsavebtn">Add</button>
                                        </div>
                                        <div class="col-md-1">
                                            <br />
                                            <button type="button" onclick="ClearContainerLot()" class="btn btn-default pull-right">Clear</button>
                                        </div>
                                    </div>
                                    <div class="col-md-12" style="overflow:scroll;margin-top:20px;">
                                        @*<div class="pull-right">
                                        <div style="display: inline-flex">
                                            <div class="input-group input-group-sm">
                                                <input id="txtDocumentBOIDetails" name="txtDocumentBOIDetails" type="text" class="form-control" onkeyup="DataTableSeachEngine('txtDocumentBOIDetails','tblDocumentBOIDetails','btnDocumentBOIDetails')" placeholder="Search for Common" value="">
                                                <span class="input-group-btn">
                                                    <button type="button" id="btnDocumentBOIDetails" onclick="DataTableSeachEngine('txtDocumentBOIDetails','tblDocumentBOIDetails','btnDocumentBOIDetails','yes')" class="btn btn-primary btn-flat">Search</button>
                                                </span>
                                            </div>
                                        </div>
                                    </div>*@
                                        <table id="tblDocumentBOIDetails" style="white-space:nowrap;overflow:scroll;" class="table-bordered table-hover">
                                            <thead>
                                                <tr>
                                                    <th>Lot No</th>
                                                    <th>No of Package</th>
                                                    <th>No of Pieces</th>
                                                    <th>Weight</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody id="ContainerLotItems"></tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default pull-right" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
                <div class="modal fade in" id="viewLotDetails" style="display: none; padding-right: 17px;">
                    <div class="modal-dialog modal-md">
                        <div class="modal-content" style="WIDTH: fit-content;">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">×</span>
                                </button>
                                <h4 class="modal-title">BOE ITEM</h4>
                            </div>
                            <div class="modal-body">
                                <div class="row" style="padding:15px;">
                                    <table style="white-space: nowrap;" class="table-bordered table-hover">
                                        <thead>
                                            <tr>
                                                <th>Serial No</th>
                                                <th>Invoice No</th>
                                                <th>Invoice Date</th>
                                                <th>Cargo Name</th>
                                                <th>No of Package</th>
                                                <th>No of Pieces</th>
                                                <th>Weight</th>
                                            </tr>
                                        </thead>
                                        <tbody id="BOEITEMS">
                                            
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default pull-right" data-dismiss="modal">Okay</button>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>

                <div class="modal fade in" id="viewConatinerLotDetails" style="display: none; padding-right: 17px;">
                    <div class="modal-dialog modal-md">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">×</span>
                                </button>
                                <h4 class="modal-title">BOE ITEM</h4>
                            </div>
                            <div class="modal-body">
                                <div class="row" style="padding:15px;">
                                    <table style="white-space: nowrap;" class="table-bordered table-hover">
                                        <thead>
                                            <tr>
                                                <th>Container Level</th>
                                                <th>Lot No</th>
                                                <th>No of Package</th>
                                                <th>No of Pieces</th>
                                                <th>Weight</th>
                                            </tr>
                                        </thead>
                                        <tbody id="ContainerLotDeatils"></tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default pull-right" data-dismiss="modal">Okay</button>
                            </div>
                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
            }
        </div>
    </div>
    <div class="row">
        @if (Model.BookingDatatable != null && Model.BookingDatatable.Rows.Count > 0)
        {
            for (int i = 0; i < Model.BookingDatatable.Rows.Count; i++)
            {
                <div class="clear"></div>
                <div class="col-md-3">
                    <div class="box box-solid">
                        <div class="box-header with-border">
                            <i class="glyphicon glyphicon-tags"></i>
                            <h3 class="box-title">@Model.BookingDatatable.Rows[i]["BookingPrefix"]@Model.BookingDatatable.Rows[i]["BookingNo"]</h3>
                        </div>
                        <!-- /.box-header -->
                        <div class="box-body" style="min-height:130px">
                            <label>Storage From Date : </label> <span>@(Convert.ToDateTime(Model.BookingDatatable.Rows[i]["StorageStartDate"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat))</span>
                            <br />
                            <label>Storage Pattern : </label> <span>@Model.BookingDatatable.Rows[i]["NoOfStoragePeriod"]</span>
                            <br />
                            <label>Storage pattern - time : </label> <span>@Model.BookingDatatable.Rows[i]["StoragePeriod"]</span>
                            <br />
                            <label>Storage valid upto : </label> <span>@CFS.Com.ClsCommon.CalculateEndDate(Convert.ToDateTime(Model.BookingDatatable.Rows[i]["StorageStartDate"]).ToString(CFS.Com.ClsCommon.CSProjectDateFormat), Convert.ToInt32(Model.BookingDatatable.Rows[i]["NoOfStoragePeriod"]), Model.BookingDatatable.Rows[i]["StoragePeriod"].ToString())</span>
                        </div>
                        <!-- /.box-body -->
                    </div>
                    <!-- /.box -->
                </div>
            }
        }
    </div>
</section>
<script>
    var VCNDeatails = '@Model.HtmlVCNDeatails';
    var IsSearch = '@Model.IsSearch.ToString().ToLower()';
    var ImporterExporter = '@Model.ImporterExporter';
    var ImporterExporterID = '@Model.ImporterExporterID';
    var CHAName = '@Model.CHAName';
    var CHAID = '@Model.CHAID';
    var IsBulk = '@Model.IsBulk';
    var GroupCommodity = '@Model.GroupCommodity';
    var BillCommodity = '@Model.BillCommodity';
    var SubCommodity = '@Model.SubCommodity';
    var GroupCommodityID = '@Model.GroupCommodityID';
    var BillCommodityID = '@Model.BillCommodityID';
    var SubCommodityID = '@Model.SubsCommodityID';
    var PackageTypeID = '@Model.PackageTypeID';
    var PackageType = '@Model.PackageType';
    var ImporterCode = '@CFS.Com.ClsCommon.GetSettingValue("IMPTR", "1")';
    var ExporterCode = '@CFS.Com.ClsCommon.GetSettingValue("EXPTR", "2")';
    var DomesticCode = '@CFS.Com.ClsCommon.GetSettingValue("DMESC", "3")';
    var GeneralCode = '@CFS.Com.ClsCommon.GetSettingValue("GENLC", "1")';
    var HAZCode = '@CFS.Com.ClsCommon.GetSettingValue("HAZCT", "2")';
    var ODCCode = '@CFS.Com.ClsCommon.GetSettingValue("ODCCT", "3")';
    var ReeferCode = '@CFS.Com.ClsCommon.GetSettingValue("REFER", "4")';
    var GateInType = '@Model.GateInType';
    var CFSDateFormat='@CFSDateFormat'
    function changestepValue(tabNo) {
        $("#DocumentTab").val(tabNo);
        if (tabNo != "1") {
            if (tabNo == "5") {
                $("#IsChangeStep").val(2);
            }
        }
        //$("frmpost").submit();
    }
    function FinalFinished() {
        $("#IsFinished").val(true);
        return DocumentValidation(1);
    }
    function HideIfView() {
    }
</script>
@if (((Model != null && Model.doaction.ToLower() == "edit") || Model.trnDocumentID > 0))
{
    <script>
        $(".isDisplayOnlyinEdit").show();
    </script>
}
else
{
    <script>
        $(".isDisplayOnlyinEdit").hide();
    </script>
}
<script src="@CFS.Com.ClsCommon.GetCacheVersion("FormJs/trnDocument.js")"></script>
